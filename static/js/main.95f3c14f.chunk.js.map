{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/DeleteCardPopup.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","utils/utils.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onDeleteCardClick","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","name","onClick","link","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","onCardDelete","avatar","about","map","Footer","date","Date","getFullYear","PopupWithForm","isOpen","title","children","onClose","buttonText","onSubmit","noValidate","DeleteCardPopup","onDeleteCard","evt","preventDefault","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","placeholder","value","onChange","target","ame","id","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","placeNameRef","placeUrlRef","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_getResStatus","all","getUserInfo","getInitialCards","method","body","JSON","stringify","cardId","authorization","App","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","setCards","selectedCard","setSelectedCard","isImagePopupOpen","setImagePopupOpen","isDeleteCardPopupOpen","setDeleteCardPopupOpen","cardToDelete","setCardToDelete","closeAllPopups","handleCardDelete","deleteCard","filter","catch","err","console","log","info","Provider","changeLikeCardStatus","newCard","newCards","c","userInfo","editUserInfo","newUserInfo","addNewCard","newCardData","editAvatar","newAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.95f3c14f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\n\nfunction Header() {\n    return (\n        <header className=\"header\">\n            <img className=\"header__logo\" src={logo} alt=\"Название проекта - Mesto.\" />\n        </header>\n        );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card({card, onCardClick, onDeleteCardClick, onCardLike}) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = card.owner._id === currentUser._id;\n    const cardDeleteButtonClassName = `element__delete-button ${isOwn && 'element__delete-button_visible'}`;\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    const cardLikeButtonClassName = `element__like-button ${isLiked && 'element__like-button_active'}`; \n\n    function handleCardClick() {\n        onCardClick(card);\n    }\n    function handleLikeClick() {\n        onCardLike(card);\n    }\n\n    function handleDeleteCardClick() {\n        onDeleteCardClick(card)\n    }\n\n    return(\n        <div className=\"element\">\n            <button type=\"button\" className={cardDeleteButtonClassName} name=\"delete-button\" onClick={handleDeleteCardClick}></button>\n            <img className=\"element__picture\" alt={card.name} src={card.link} onClick={handleCardClick}/>\n            <div className=\"element__caption\">\n                <h2 className=\"element__name\">{card.name}</h2>\n                <div className=\"element__likes\">\n                    <button type=\"button\" className={cardLikeButtonClassName} name=\"like-button\" onClick={handleLikeClick}></button>\n                    <p className=\"element__likes-number\">{card.likes.length}</p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Card;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport Card from './Card.js';\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, cards, onCardClick, onDeleteCardClick, onCardLike, onCardDelete}) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return(\n        <main className=\"main\">\n            <section className=\"profile main__profile\">\n                <div className=\"profile__avatar-container\">\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар пользователя.\" />\n                    <div className=\"profile__avatar-cover\">\n                        <button type=\"button\" name=\"avatar-edit-button\" className=\"profile__avatar-edit\" onClick={onEditAvatar}></button>\n                    </div>\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\n                    <button type=\"button\" name=\"edit-button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\n                    <p className=\"profile__job\">{currentUser.about}</p>\n                </div>\n                <button type=\"button\" name=\"add-button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\n            </section>\n            <section className=\"elements\">\n                {cards.map((card) => (\n                    <Card \n                    key={card._id}\n                    card={card}\n                    onCardClick={onCardClick}\n                    onDeleteCardClick={onDeleteCardClick}\n                    onCardLike={onCardLike}\n                    onCardDelete={onCardDelete}\n                    />\n                ))}\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n    const date = new Date();\n\n    return(\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; {date.getFullYear()} Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm({name, isOpen, title, children, onClose, buttonText, onSubmit}) {\n    return(\n        <div className={`popup popup-${name} ${isOpen && 'popup_opened'}`}>\n            <button type=\"button\" name=\"close-button\" className={`popup__close-button popup-${name}__close-button`} onClick={onClose}></button>\n            <form className={`popup__form popup-${name}__form`} onSubmit={onSubmit} noValidate>\n                <h3 className={`popup-${name}__title`}>{title}</h3>\n                {children}\n                <button type=\"submit\" className={`popup-${name}__save-button popup__button`} name=\"save-button\" onClick={onClose}>{buttonText}</button>\n            </form>\n        </div>\n    );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction DeleteCardPopup({isOpen, onClose, onDeleteCard}) {\n\n    function handleDeleteCard(evt) {\n        evt.preventDefault();\n        onDeleteCard();\n    }\n    return(\n        <PopupWithForm\n            name=\"removal\"\n            isOpen={isOpen}\n            title=\"Вы уверены?\"\n            onClose={onClose}\n            buttonText=\"Да\"\n            onSubmit={handleDeleteCard}\n        />\n    );\n}\n\nexport default DeleteCardPopup;","import React from 'react';\n\nfunction ImagePopup({isOpen, onClose, name, link}) {\n    return(\n        <div className={`popup popup-zoom ${isOpen && 'popup_opened'}`}>\n            <figure className=\"popup-zoom__figure\">\n                <button type=\"button\" name=\"image-close-button\" className=\"popup__close-button popup-zoom__close-button\" onClick={onClose}></button>\n                <img className=\"popup-zoom__image\" alt={name} src={link} />\n                <h4 className=\"popup-zoom__name\">{name}</h4>\n            </figure>\n        </div>\n    );\n}\n\nexport default ImagePopup;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    React.useEffect(() => {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }, [currentUser]);\n\n    React.useEffect(() => {\n      if(isOpen) {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n      }\n  }, [isOpen, currentUser]);\n\n    function handleChangeName(evt) {\n        setName(evt.target.value)\n    }\n\n    function handleChangeDescription(evt) {\n        setDescription(evt.target.value)\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n\n        onUpdateUser({\n          name: name,\n          about: description\n        });\n    }\n\n    return (\n    <PopupWithForm \n        name=\"user\"\n        isOpen={isOpen}\n        title=\"Редактировать профиль\"\n        onClose={onClose}\n        buttonText=\"Сохранить\"\n        onSubmit={handleSubmit}\n        >\n          <input placeholder=\"Имя пользователя\" value={name || \"\"} onChange={handleChangeName} ame=\"name\" id=\"user-name\" className=\"popup__input popup-user__field\" type=\"text\" required minLength=\"2\" maxLength=\"40\" />\n          <span className=\"popup__error\" id=\"user-name-error\"></span>\n          <input placeholder=\"Род деятельности\" value={description || \"\"} onChange={handleChangeDescription} name=\"about\" id=\"user-job\" className=\"popup__input popup-user__field\" type=\"text\" required minLength=\"2\" maxLength=\"200\" />\n          <span className=\"popup__error\" id=\"user-job-error\"></span>\n    </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n    const avatarRef = React.useRef();\n\n    React.useEffect(() => {\n        if(isOpen) {\n        avatarRef.current.value = '';\n        }\n    }, [isOpen]);\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        onUpdateAvatar({\n            avatar: avatarRef.current.value\n        });\n    }\n    \n    return(\n    <PopupWithForm\n        name=\"avatar\"\n        isOpen={isOpen}\n        title=\"Обновить аватар\"\n        onClose={onClose}\n        buttonText=\"Сохранить\"\n        onSubmit={handleSubmit}\n    >\n        <input placeholder=\"Ссылка на картинку\" ref={avatarRef} name=\"avatar\" id=\"avatar-link\" className=\"popup__input popup-avatar__field\" required type=\"url\" />\n        <span className=\"popup__error\" id=\"avatar-link-error\"></span>\n    </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n    const placeNameRef = React.useRef();\n    const placeUrlRef = React.useRef();\n    \n    function handleSubmit(evt) {\n        evt.preventDefault();\n        onAddPlace({\n            name: placeNameRef.current.value,\n            link: placeUrlRef.current.value\n        })\n    }\n\n    React.useEffect(() => {\n        if(isOpen) {\n        placeNameRef.current.value = '';\n        placeUrlRef.current.value = '';\n        }\n    }, [isOpen]);\n\n    return (\n        <PopupWithForm\n            name=\"card\"\n            isOpen={isOpen}\n            title=\"Новое место\"\n            onClose={onClose}\n            buttonText=\"Создать\"\n            onSubmit={handleSubmit}\n        >\n            <input placeholder=\"Название\" ref={placeNameRef} name=\"name\" id=\"card-name\" className=\"popup__input popup-card__field\" type=\"text\" required minLength=\"1\" maxLength=\"30\" />\n            <span className=\"popup__error\" id=\"card-name-error\"></span>\n            <input placeholder=\"Ссылка на картинку\" ref={placeUrlRef} name=\"link\" id=\"card-link\" className=\"popup__input popup-card__field\" required type=\"url\" />\n            <span className=\"popup__error\" id=\"card-link-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import { apiInfo } from './utils.js';\n\nclass Api {\n    constructor({baseUrl, headers}) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n    _getResStatus(res) {\n        if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: this._headers\n        })\n        .then(res => this._getResStatus(res));\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            headers: this._headers\n        })\n        .then(res => this._getResStatus(res));\n    }\n\n    getAppInfo() {\n        return Promise.all([ this.getUserInfo(), this.getInitialCards() ]);\n    }\n\n    editUserInfo({name, about}) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n              name: `${name}`,\n              about: `${about}`\n            })\n        })\n        .then(res => this._getResStatus(res));\n    }\n\n    addNewCard({name, link}) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                link: `${link}`,\n                name: `${name}`\n            })\n        })\n        .then(res => this._getResStatus(res));\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n        .then(res => this._getResStatus(res));\n    }\n    \n    editAvatar({avatar}) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n              avatar: `${avatar}`\n            })\n        })\n        .then(res => this._getResStatus(res));\n    }\n    \n    changeLikeCardStatus(id, isLiked) {\n        return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n            method: `${isLiked ? 'PUT' : 'DELETE'}`,\n            headers: this._headers\n        })\n        .then(res => this._getResStatus(res));\n    }\n}\n\nexport const api = new Api(apiInfo);","export const apiInfo = {\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n    headers: {\n      authorization: '9e2464ed-9bf4-456d-960e-bc935e02e4f4',\n      'Content-Type': 'application/json'\n    },\n};\n","import React from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport DeleteCardPopup from './DeleteCardPopup.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { api } from '../utils/api.js';\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = React.useState(false);\n  const [cardToDelete, setCardToDelete] = React.useState(null);\n\n   React.useEffect(() => {\n     Promise.all([api.getUserInfo(), api.getInitialCards()])\n     .then(([info, cards]) => {\n      setCurrentUser(info);\n      setCards(cards);\n     })\n     .catch((err) => {\n      console.log(err);\n    });\n  }, []);\n\n  function handleCardClick(card) {\n    setImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleDeleteCardClick(card) {\n    setDeleteCardPopupOpen(true);\n    setCardToDelete(card);\n  }\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setImagePopupOpen(false);\n    setDeleteCardPopupOpen(false);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api\n    .changeLikeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch((err) => {\n        console.log(err);\n    });\n  } \n  \n  function handleCardDelete() {\n    api\n    .deleteCard(cardToDelete._id)\n    .then(() => {\n      setCards(cards.filter((card) => card !== cardToDelete));\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleUpdateUser(userInfo) {\n    api\n    .editUserInfo(userInfo)\n    .then((newUserInfo) => {\n      setCurrentUser(newUserInfo);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api\n    .editAvatar(avatar)\n    .then((newAvatar) => {\n      setCurrentUser(newAvatar);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    api\n    .addNewCard(newCard) \n    .then((newCardData) => {\n      setCards([newCardData, ...cards]);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n \n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          cards={cards}\n          onCardClick={handleCardClick}\n          onDeleteCardClick={handleDeleteCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/> \n        <DeleteCardPopup isOpen={isDeleteCardPopupOpen} onClose={closeAllPopups} onDeleteCard={handleCardDelete}/>\n        <ImagePopup \n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n          name={selectedCard.name}\n          link={selectedCard.link}\n        />\n        </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}